(function(e){function o(o){for(var n,a,l=o[0],c=o[1],s=o[2],u=0,f=[];u<l.length;u++)a=l[u],Object.prototype.hasOwnProperty.call(r,a)&&r[a]&&f.push(r[a][0]),r[a]=0;for(n in c)Object.prototype.hasOwnProperty.call(c,n)&&(e[n]=c[n]);d&&d(o);while(f.length)f.shift()();return i.push.apply(i,s||[]),t()}function t(){for(var e,o=0;o<i.length;o++){for(var t=i[o],n=!0,l=1;l<t.length;l++){var c=t[l];0!==r[c]&&(n=!1)}n&&(i.splice(o--,1),e=a(a.s=t[0]))}return e}var n={},r={app:0},i=[];function a(o){if(n[o])return n[o].exports;var t=n[o]={i:o,l:!1,exports:{}};return e[o].call(t.exports,t,t.exports,a),t.l=!0,t.exports}a.m=e,a.c=n,a.d=function(e,o,t){a.o(e,o)||Object.defineProperty(e,o,{enumerable:!0,get:t})},a.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},a.t=function(e,o){if(1&o&&(e=a(e)),8&o)return e;if(4&o&&"object"===typeof e&&e&&e.__esModule)return e;var t=Object.create(null);if(a.r(t),Object.defineProperty(t,"default",{enumerable:!0,value:e}),2&o&&"string"!=typeof e)for(var n in e)a.d(t,n,function(o){return e[o]}.bind(null,n));return t},a.n=function(e){var o=e&&e.__esModule?function(){return e["default"]}:function(){return e};return a.d(o,"a",o),o},a.o=function(e,o){return Object.prototype.hasOwnProperty.call(e,o)},a.p="";var l=window["webpackJsonp"]=window["webpackJsonp"]||[],c=l.push.bind(l);l.push=o,l=l.slice();for(var s=0;s<l.length;s++)o(l[s]);var d=c;i.push([0,"chunk-vendors"]),t()})({0:function(e,o,t){e.exports=t("56d7")},"00e0":function(e,o){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACEAAAAhCAYAAABX5MJvAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsQAAA7EAZUrDhsAAADgSURBVFhHYzQ2Nv7PMMAA7Ig3nZlQLiYQKZ/O8DI3CMrDBOKT1zH8nmkL5WEC1vTDDF9qdKE8TMDTcpmBCcoeUDDqCBgYdQQMDApHDJ5y4ptvG5SLCbg2VzEUGvRAeZig/0IJQ7RAFZSHCZZ+aGPgUrKG8jDBt3tHR9MEHIw6AgZGHQEDg6ec2D/pHpSLCRzzlBgOZD6D8jCBw3Qphq0SnFAeJvB+8Z2hl/UHlIcJin9zjKYJOBh1BAyMOgIGBk85sXv3bigXE7i6ujLQWn40TcDAqCNgYNQRMDAIygkGBgDfwD6SVoJKswAAAABJRU5ErkJggg=="},"034f":function(e,o,t){"use strict";t("85ec")},"56d7":function(e,o,t){"use strict";t.r(o);t("e260"),t("e6cf"),t("cca6"),t("a79d");var n=t("2b0e"),r=function(){var e=this,o=e.$createElement,n=e._self._c||o;return n("div",{attrs:{id:"app"}},[n("div",{attrs:{id:"header"}},[n("b-container",[n("h1",[n("img",{attrs:{src:t("00e0"),alt:""}}),e._v(" PixelArt")]),n("p",[e._v("draw something")])])],1),n("b-container",[n("b-toast",{ref:"browser-comp",staticClass:"browser-comp",attrs:{static:"",title:"browser compatibility","no-auto-hide":""}},[e._v(" please use a modern browser to avoid unexpected behavior. ")]),n("div",{staticClass:"control-container"},[n("PixelArtControls")],1),n("div",{staticClass:"canvas-container"},[n("PixelArtCanvas")],1)],1)],1)},i=[],a=function(){var e=this,o=e.$createElement,t=e._self._c||o;return t("div",[t("ul",{staticClass:"control-container"},[t("li",[t("b-form-radio-group",{staticClass:"control-button grid-size-container",attrs:{buttons:""},on:{change:e.chooseGridSize},model:{value:e.gridSize,callback:function(o){e.gridSize=o},expression:"gridSize"}},[t("i",{staticClass:"group-label fas fa-th"}),e._l(e.gridSizes,(function(o){return[t("b-form-radio",{key:o.index,attrs:{value:o.value}},[e._v(" "+e._s(o.name)+" ")])]}))],2)],1),t("li",[t("v-swatches",{attrs:{"row-length":"5"},on:{input:e.chooseColor},model:{value:e.colorToUse,callback:function(o){e.colorToUse=o},expression:"colorToUse"}},[t("b-button",{staticClass:"control-button",attrs:{slot:"trigger",variant:"light"},slot:"trigger"},[t("i",{staticClass:"fas fa-palette"}),e._v(" "),t("span",{staticClass:"color-preview",style:"background:"+e.colorToUse})])],1)],1),t("li",[t("b-form-radio-group",{staticClass:"control-button drawmode",attrs:{buttons:""},on:{change:e.chooseDrawMode},model:{value:e.drawMode,callback:function(o){e.drawMode=o},expression:"drawMode"}},[e._l(e.drawModes,(function(e){return[t("b-form-radio",{key:e.index,attrs:{value:e.value}},[t("i",{class:"fas "+e.icon})])]}))],2)],1),t("li",{staticClass:"right"},[t("b-dropdown",{staticClass:"control-button",attrs:{variant:"light"},scopedSlots:e._u([{key:"button-content",fn:function(){return[t("i",{staticClass:"fas fa-file-download"}),e._v(" Download ")]},proxy:!0}])},[t("b-dropdown-item",{on:{click:function(o){return e.downloadImage("png")}}},[e._v("PNG")]),t("b-dropdown-item",{on:{click:function(o){return e.downloadImage("jpg")}}},[e._v("JPG")]),t("b-dropdown-item",{on:{click:function(o){return e.downloadImage("gif")}}},[e._v("GIF")])],1)],1)])])},l=[],c=new n["default"],s=c,d=t("7f75"),u=t.n(d),f=(t("b3a4"),{name:"PixelArtControls",components:{VSwatches:u.a},mounted:function(){var e=this;s.$on("setConfigDefaults",(function(o){e.gridSize=o.gridSize,e.colorToUse=o.colorToUse,e.drawMode=o.drawMode}))},data:function(){return{gridSize:null,colorToUse:null,drawMode:null,drawModes:[{value:"floodfill",text:"Floodfill",icon:"fa-fill-drip"},{value:"simple",text:"Pencil",icon:"fa-pencil-alt"}],gridSizes:[{name:"8x8",value:8},{name:"12x12",value:12},{name:"16x16",value:16},{name:"32x32",value:32}]}},methods:{chooseColor:function(e){s.$emit("changeColor",e),this.colorToUse=e},chooseDrawMode:function(e){s.$emit("changeDrawMode",e)},chooseGridSize:function(e){this.gridSize=e,s.$emit("changeGridSize",e)},downloadImage:function(e){s.$emit("downloadImage",e)}}}),g=f,p=(t("e0e6"),t("b0d0"),t("2877")),v=Object(p["a"])(g,a,l,!1,null,"b1771b06",null),b=v.exports,w=function(){var e=this,o=e.$createElement,t=e._self._c||o;return t("canvas",{ref:"canvas",attrs:{width:"0",height:"0"},on:{click:function(o){return e.draw(o)},mousedown:function(o){return e.initSimpleLine(o)}}})},m=[],h=(t("cb29"),t("aeb1")),A=t.n(h),C={},S=null,x=8,M=8,D=8,y="#eee",z="#333",_=function(){var e=0,o=0;C={};for(var t=0;t<x*M;t++)e>=x&&(e=0,o++),C[e+":"+o]={index:t,bgcolor:y,bordercolor:z,coordX:e,coordY:o},e++},P=function(){var e=S.getContext("2d");for(var o in e.clearRect(0,0,S.width,S.height),C){var t=C[o],n=t.coordX*D,r=t.coordY*D;t.posX=n,t.posY=r;var i=.5;e.beginPath(),e.moveTo(n+i,r+i),e.lineTo(n+D+i,r+i),e.lineTo(n+D+i,r+D+i),e.lineTo(n+i,r+D+i),e.lineTo(n+i,r+i),e.closePath(),e.strokeStyle=t.bordercolor,e.fillStyle=t.bgcolor,e.fill(),e.stroke()}};function T(e,o,t){if(t.bgcolor!==e){t.bgcolor===o&&(t.bgcolor=e);for(var n=t.coordX,r=t.coordY,i=[[n-1+":"+r],[n-1+":"+(r-1)],[n+":"+(r-1)],[n+1+":"+(r-1)],[n+1+":"+r],[n+1+":"+(r+1)],[n+":"+(r+1)],[n-1+":"+(r+1)]],a=0;a<i.length;a++){var l=C[i[a]];l&&l.bgcolor===o&&T(e,o,l)}}}var U=function(e,o){for(var t in C){var n=C[t];if(n.posX<e+1&&n.posX+D>e-1&&n.posY<o+1&&n.posY+D>o-1)return n}return null},k=function(e,o){A()(S.toDataURL("image/"+o),e+"."+o,"image/"+o)},I=function(e,o,t){var n=!0;switch(e){case"simple":t.bgcolor===o?n=!1:t.bgcolor=o;break;case"floodfill":T(o,t.bgcolor,t);break;default:console.warn("unbekannter drawmode "+e)}n&&P()},G=function(e){x=e,M=e,S.width=x*D+1,S.height=M*D+1,_(),P()},O=function(e){S=e},E={init:O,setGridSize:G,getGridItemFromPosition:U,applyDrawMode:I,downloadImage:k},j={name:"PixelArtCanvas",mounted:function(){var e=this;E.init(e.$refs.canvas),E.setGridSize(e.gridSize),s.$emit("setConfigDefaults",{gridSize:e.gridSize,colorToUse:e.colorToUse,drawMode:e.drawMode}),s.$on("changeColor",(function(o){e.colorToUse=o})),s.$on("changeDrawMode",(function(o){e.drawMode=o})),s.$on("changeGridSize",(function(o){e.gridSize=o,E.setGridSize(o)})),s.$on("downloadImage",(function(e){E.downloadImage("pixelart_img",e)}))},data:function(){return{colorToUse:"#27AF60",drawMode:"simple",gridSize:8}},methods:{draw:function(e){var o=this,t=o.$refs.canvas.getBoundingClientRect(),n=t.left,r=t.top,i=E.getGridItemFromPosition(e.clientX-n,e.clientY-r);i&&E.applyDrawMode(o.drawMode,o.colorToUse,i)},initSimpleLine:function(){var e=this;if("simple"===e.drawMode){var o=function e(){window.removeEventListener("mouseup",e),window.removeEventListener("mousemove",t)},t=function(o){e.draw(o)};window.addEventListener("mouseup",o),window.addEventListener("mousemove",t)}}}},B=j,$=Object(p["a"])(B,w,m,!1,null,"0764fd0c",null),Q=$.exports,Y=(t("b0c0"),t("337f")),J=t.n(Y),R=J.a.getParser(window.navigator.userAgent),L={browserIsCompatible:function(){var e=!0,o=R.getBrowser();return"Internet Explorer"===o.name&&"11.0"!==o.version&&(e=!1),e}},X={name:"PixelArt",components:{PixelArtControls:b,PixelArtCanvas:Q},mounted:function(){var e=this;L.browserIsCompatible()||e.$refs["browser-comp"].show()}},Z=X,F=(t("034f"),Object(p["a"])(Z,r,i,!1,null,null,null)),H=F.exports,K=t("5f5b");t("ab8b"),t("2dd8"),t("becf");n["default"].use(K["a"]),new n["default"]({render:function(e){return e(H)}}).$mount("#app")},"85ec":function(e,o,t){},b0d0:function(e,o,t){"use strict";t("ee94")},e0e6:function(e,o,t){"use strict";t("ed86")},ed86:function(e,o,t){},ee94:function(e,o,t){}});
//# sourceMappingURL=app.620b4a59.js.map